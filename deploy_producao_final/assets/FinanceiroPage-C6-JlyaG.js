import{j as e}from"./supabase-vendor-vwXl956e.js";import{r as F}from"./react-vendor-DZvRB87w.js";import{u as O,C as i,a as m,b as x,d as l,c as b,e as h,D as L,B as y,t as N}from"./index-Df_bSpit.js";import{T as z,a as E,b as u,c as p}from"./tabs-CFPvKsOc.js";import{I as v}from"./input-BaSgXdNs.js";import{L as j}from"./label-DvsDVWlE.js";import{S as w,a as C,b as T,c as D,d as t}from"./select-DWYjgQBo.js";import{u as P}from"./useFinanceiro-CoZRCXiW.js";import{P as V}from"./plus-Cf9uTjEE.js";import{C as S}from"./chart-pie-Bo_Jo0ti.js";import{C as B,W as M}from"./wallet-wiYU7H94.js";import{T as g}from"./trending-up-D6UT933U.js";import{F as A}from"./file-text-d64qQHtV.js";import{D as I}from"./download-B09wcfGt.js";import{C as _}from"./calendar-CQNTrNBE.js";import{T as $}from"./trending-down-CEBtPlEK.js";import{C as k}from"./credit-card-neFNjxig.js";import{A as q}from"./activity-BtNb_0BM.js";import{F as G}from"./filter-dE25I6Qi.js";import"./ui-vendor-Dea2Gxwc.js";import"./index-v7iOeiPF.js";import"./chevron-down-Bc7oyTHl.js";import"./check-Cr6J53Lh.js";import"./chevron-up-BR0CPyY0.js";const W=({stats:n,loading:d})=>d?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[1,2,3].map(s=>e.jsx(i,{className:"animate-pulse",children:e.jsx(l,{className:"p-6",children:e.jsx("div",{className:"h-20 bg-gray-200 rounded"})})},s))}):n?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(i,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Receita Total"}),e.jsxs("h3",{className:"text-2xl font-bold text-green-900",children:["R$ ",(n.totalIncome||0).toLocaleString("pt-BR")]}),e.jsxs("p",{className:"text-xs text-green-700 flex items-center mt-1",children:[e.jsx(g,{size:14,className:"mr-1"}),"+12.5% este mês"]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-full flex items-center justify-center",children:e.jsx(L,{className:"h-6 w-6 text-green-700"})})]})})}),e.jsx(i,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Despesas Totais"}),e.jsxs("h3",{className:"text-2xl font-bold text-red-900",children:["R$ ",(n.totalExpenses||0).toLocaleString("pt-BR")]}),e.jsxs("p",{className:"text-xs text-red-700 flex items-center mt-1",children:[e.jsx($,{size:14,className:"mr-1"}),"-3.2% este mês"]})]}),e.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-full flex items-center justify-center",children:e.jsx(k,{className:"h-6 w-6 text-red-700"})})]})})}),e.jsx(i,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Lucro Líquido"}),e.jsxs("h3",{className:"text-2xl font-bold text-blue-900",children:["R$ ",(n.netProfit||0).toLocaleString("pt-BR")]}),e.jsxs("p",{className:"text-xs text-blue-700 flex items-center mt-1",children:[e.jsx(g,{size:14,className:"mr-1"}),"ROI médio: 15.8%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"h-6 w-6 text-blue-700"})})]})})})]}):null,R=({transactions:n,loading:d})=>d?e.jsxs(i,{className:"mb-6",children:[e.jsx(m,{children:e.jsx(x,{children:"Transações Recentes"})}),e.jsx(l,{children:e.jsx("div",{className:"animate-pulse space-y-3",children:[1,2,3,4,5].map(s=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},s))})})]}):e.jsxs(i,{className:"mb-6",children:[e.jsxs(m,{className:"pb-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(x,{className:"flex items-center",children:[e.jsx(q,{className:"h-5 w-5 mr-2 text-blue-600"}),"Transações Recentes"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",size:"sm",className:"h-8 gap-1",children:[e.jsx(G,{size:14}),"Filtrar"]}),e.jsxs(h,{variant:"outline",size:"sm",className:"h-8 gap-1",children:[e.jsx(I,{size:14}),"Exportar"]})]})]}),e.jsx(b,{children:"Últimas movimentações financeiras realizadas"})]}),e.jsx(l,{children:n.length>0?e.jsx("div",{className:"overflow-hidden rounded-md border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b",children:[e.jsx("th",{className:"py-3 px-4 text-left font-medium",children:"Data"}),e.jsx("th",{className:"py-3 px-4 text-left font-medium",children:"Descrição"}),e.jsx("th",{className:"py-3 px-4 text-left font-medium",children:"Categoria"}),e.jsx("th",{className:"py-3 px-4 text-left font-medium",children:"Tipo"}),e.jsx("th",{className:"py-3 px-4 text-right font-medium",children:"Valor"})]})}),e.jsx("tbody",{children:n.map(s=>e.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:new Date(s.date).toLocaleDateString("pt-BR")}),e.jsx("td",{className:"py-3 px-4 font-medium",children:s.description}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(y,{variant:"outline",children:s.category})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(y,{className:s.type==="income"?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200",children:s.type==="income"?"Receita":"Despesa"})}),e.jsxs("td",{className:`py-3 px-4 text-right font-medium ${s.type==="income"?"text-green-600":"text-red-600"}`,children:[s.type==="income"?"+":"-","R$ ",s.amount.toLocaleString("pt-BR")]})]},s.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma transação encontrada"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Comece adicionando suas primeiras transações financeiras"})]})})]}),H=({isOpen:n,onClose:d,onAdd:s})=>{const[a,o]=F.useState({type:"income",description:"",amount:"",category:"",date:new Date().toISOString().split("T")[0]}),f=async r=>{if(r.preventDefault(),!a.description||!a.amount||!a.category){N.error("Preencha todos os campos obrigatórios");return}try{await s({...a,amount:parseFloat(a.amount)}),o({type:"income",description:"",amount:"",category:"",date:new Date().toISOString().split("T")[0]}),d(),N.success("Transação adicionada com sucesso!")}catch{N.error("Erro ao adicionar transação")}};return n?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(i,{className:"w-full max-w-md mx-4",children:[e.jsx(m,{children:e.jsx(x,{children:"Nova Transação"})}),e.jsx(l,{children:e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{children:"Tipo"}),e.jsxs(w,{value:a.type,onValueChange:r=>o(c=>({...c,type:r})),children:[e.jsx(C,{children:e.jsx(T,{})}),e.jsxs(D,{children:[e.jsx(t,{value:"income",children:"Receita"}),e.jsx(t,{value:"expense",children:"Despesa"})]})]})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"description",children:"Descrição *"}),e.jsx(v,{id:"description",value:a.description,onChange:r=>o(c=>({...c,description:r.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"amount",children:"Valor *"}),e.jsx(v,{id:"amount",type:"number",step:"0.01",value:a.amount,onChange:r=>o(c=>({...c,amount:r.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"category",children:"Categoria *"}),e.jsxs(w,{value:a.category,onValueChange:r=>o(c=>({...c,category:r})),children:[e.jsx(C,{children:e.jsx(T,{placeholder:"Selecione uma categoria"})}),e.jsx(D,{children:a.type==="income"?e.jsxs(e.Fragment,{children:[e.jsx(t,{value:"Aluguel",children:"Aluguel"}),e.jsx(t,{value:"Venda",children:"Venda"}),e.jsx(t,{value:"Dividendos",children:"Dividendos"}),e.jsx(t,{value:"Outros",children:"Outros"})]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{value:"Manutenção",children:"Manutenção"}),e.jsx(t,{value:"Impostos",children:"Impostos"}),e.jsx(t,{value:"Seguro",children:"Seguro"}),e.jsx(t,{value:"Administração",children:"Administração"}),e.jsx(t,{value:"Outros",children:"Outros"})]})})]})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"date",children:"Data"}),e.jsx(v,{id:"date",type:"date",value:a.date,onChange:r=>o(c=>({...c,date:r.target.value}))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(h,{type:"button",variant:"outline",onClick:d,children:"Cancelar"}),e.jsx(h,{type:"submit",children:"Adicionar"})]})]})})]})}):null},ge=()=>{const{user:n}=O(),{transactions:d,stats:s,loading:a,addTransaction:o}=P(),[f,r]=F.useState(!1);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Financeiro"}),e.jsx("p",{className:"text-gray-600",children:"Controle completo das suas finanças imobiliárias"})]}),e.jsxs("button",{onClick:()=>r(!0),className:"shadow-[0_4px_14px_0_rgb(0,118,255,39%)] hover:shadow-[0_6px_20px_rgba(0,118,255,23%)] hover:bg-[rgba(0,118,255,0.9)] px-8 py-2 bg-[#0070f3] rounded-md text-white font-light transition duration-200 ease-linear flex items-center",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Nova Transação"]})]}),e.jsx(W,{stats:s,loading:a}),e.jsxs(z,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(E,{className:"grid w-full grid-cols-4",children:[e.jsx(u,{value:"overview",children:"Visão Geral"}),e.jsx(u,{value:"transactions",children:"Transações"}),e.jsx(u,{value:"properties",children:"Propriedades"}),e.jsx(u,{value:"reports",children:"Relatórios"})]}),e.jsxs(p,{value:"overview",className:"space-y-6",children:[e.jsx(R,{transactions:d,loading:a}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center",children:[e.jsx(S,{className:"h-5 w-5 mr-2 text-purple-600"}),"Distribuição por Categoria"]})}),e.jsx(l,{children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(B,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Gráfico em desenvolvimento"})]})})})]}),e.jsxs(i,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center",children:[e.jsx(g,{className:"h-5 w-5 mr-2 text-green-600"}),"Evolução Mensal"]})}),e.jsx(l,{children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(g,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Gráfico de tendências"})]})})})]})]})]}),e.jsx(p,{value:"transactions",children:e.jsx(R,{transactions:d,loading:a})}),e.jsx(p,{value:"properties",children:e.jsxs(i,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Desempenho por Propriedade"}),e.jsx(b,{children:"Análise financeira individual de cada imóvel"})]}),e.jsx(l,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(S,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Em desenvolvimento"}),e.jsx("p",{className:"text-gray-500",children:"Analytics por propriedade em breve"})]})})]})}),e.jsx(p,{value:"reports",children:e.jsxs(i,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Relatórios Financeiros"}),e.jsx(b,{children:"Relatórios detalhados e exportação de dados"})]}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(h,{variant:"outline",className:"h-24 flex-col",children:[e.jsx(A,{className:"h-8 w-8 mb-2"}),"Relatório Mensal"]}),e.jsxs(h,{variant:"outline",className:"h-24 flex-col",children:[e.jsx(I,{className:"h-8 w-8 mb-2"}),"Exportar Excel"]}),e.jsxs(h,{variant:"outline",className:"h-24 flex-col",children:[e.jsx(_,{className:"h-8 w-8 mb-2"}),"Planejamento"]})]})})]})})]}),e.jsx(H,{isOpen:f,onClose:()=>r(!1),onAdd:o})]})})};export{ge as default};
